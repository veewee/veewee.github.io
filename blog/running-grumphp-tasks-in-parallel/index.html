<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Running GrumPHP tasks in parallel</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=/css/140b.blog.css><!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.ico><link rel=alternate type=application/atom+xml title="Toon Verwerft" href=https://veewee.github.io/atom.xml></head><body class=bs-docs-home><a class=sr-only href=#content>Skip to main content</a><header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role=banner><div class=container><div class=navbar-header><button class=navbar-toggle type=button data-toggle=collapse data-target=.bs-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>Toon Verwerft</a></div><nav class="collapse navbar-collapse bs-navbar-collapse" role=navigation><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href=https://twitter.com/toonverwerft>Twitter</a></li><li><a href="https://github.com/veewee/">Github</a></li><li><a href=https://www.linkedin.com/in/toonverwerft>LinkedIn</a></li><li><a href=https://speakerdeck.com/veewee>Talks</a></li></ul></nav></div></header><a name=#content></a><div id=content><div class=container><div class=row><div class="col-xs-12 col-sm-8 col-md-9 left-pane"><div class=post-details><h1>Running GrumPHP tasks in parallel</h1><div class=pull-right><span class="meta label label-info">06 Jun 2020</span></div><small>Tags: <a href=/tags/grumphp class="label label-primary tag" title="View posts tagged with &quot;grumphp&quot;">grumphp</a></small><div class=post><img src=/images/blog/20200606/9d45.parallel-grumpy-long.png class=post-banner alt=""><p>Last week, we launched <a href=https://github.com/phpro/grumphp/releases/tag/v0.19.0 target=_blank>a new version of GrumPHP</a> (0.19.0). One of the main new features inside this relase is the ability to run your tasks in parallel. This feature will safe you a lot of waiting, both during pre-commit and on the CI environments!</p><p align=center><img src=/images/blog/20200606/d60a.parallel.gif width=100%></p><h2>How do I get this madness to work?</h2><p>Actually, you don't have to do anything! Parallel task execution is enabled by default. All tasks will run in parallel, unless you specify a different priority on a task. This way, you can specify parallel groups inside your configuration. Imagine following setup:</p><figure class=highlight><pre><code class=language-yaml data-lang=yaml><span></span><span class=c1># grumphp.yaml</span>

<span class="l l-Scalar l-Scalar-Plain">grumphp</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tasks</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">phpcs</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">standard</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">PSR2</span>
    <span class="l l-Scalar l-Scalar-Plain">phpunit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">~</span>
    <span class="l l-Scalar l-Scalar-Plain">clover_coverage</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">clover_file</span><span class="p p-Indicator">:</span> <span class=s>&#39;test/clover.xml&#39;</span>
      <span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">priority</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">-10</span></code></pre></figure><p>This configuration will run both `phpunit` and `phpcs` in parallel since they are both in priority group 0. When both tasks are ready, the `clover_coverage` task is started</p><p>Enjoy and let me know what you think of it!</p></div><a name=comments></a><div id=disqus_thread></div><script type=text/javascript>var disqus_identifier = '/blog/running-grumphp-tasks-in-parallel/';
        var disqus_title = 'Running GrumPHP tasks in parallel';
        var disqus_url = 'http://veewee.github.io/blog/running-grumphp-tasks-in-parallel/';

        // trigger disqus-comments.js
        var embed_disqus_comments = true;</script></div></div><div class="col-xs-12 col-sm-4 col-md-3 right-pane"><h1>whois <small>VeeWee</small></h1><div><img src=/images/750d.picture.png class="img-thumbnail img-responsive selfie" alt=Selfie></div><div><h2>Hi there!</h2><p>Glad you made it to my blog. Please feel free to take a look around. You will find some interesting stuff, mostly about web development and PHP.</p><p>Still can't get enough of me? Quick! Take a look at my <a href=https://speakerdeck.com/veewee>Speakerdeck</a>, <a href=https://twitter.com/toonverwerft>Twitter</a> or <a href="https://github.com/veewee/">Github</a> account.</p></div><div class=list-group><a class=list-group-item href=//github.com/veewee/veewee.github.io/issues/new><span class="glyphicon glyphicon-pencil"></span> Contact Me</a> <a class=list-group-item href=/atom.xml><span class="glyphicon glyphicon-pushpin"></span> Subscribe to RSS</a></div></div></div></div></div><script src=/js/b1a7.vendor.js></script><script src=/js/e51f.blog.js></script></body></html>