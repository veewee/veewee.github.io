<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Three-way data binding in AngularJS</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=/css/7fa1.blog.css><!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.ico><link rel=alternate type=application/atom+xml title="Toon Verwerft" href=https://veewee.github.io/atom.xml><meta property=og:description content="One of the cool features in AngularJS is the two-way data binding. When you change a property of an object, the value is instantly changed in every view or service that is using this property. A while ago, I saw a video about the combination of AngularJS and Firebase. This combination makes it possible to create three-way data binding in AngularJS."><meta property=og:title content="Three-way data binding in AngularJS"><meta property=og:image content=https://veewee.github.io/20140406/thumb-angularfire.jpg><meta property=og:image:width content=500><meta property=og:image:height content=375><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@toonverwerft><meta name=twitter:creator content=@toonverwerft></head><body class=bs-docs-home><a class=sr-only href=#content>Skip to main content</a><header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role=banner><div class=container><div class=navbar-header><button class=navbar-toggle type=button data-toggle=collapse data-target=.bs-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>Toon Verwerft</a></div><nav class="collapse navbar-collapse bs-navbar-collapse" role=navigation><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href=https://twitter.com/toonverwerft>Twitter</a></li><li><a href="https://github.com/veewee/">Github</a></li><li><a href=https://www.linkedin.com/in/toonverwerft>LinkedIn</a></li><li><a href=https://speakerdeck.com/veewee>Talks</a></li></ul></nav></div></header><a name=#content></a><div id=content><div class=container><div class=row><div class="col-xs-12 col-sm-8 col-md-9 left-pane"><div class=post-details><h1>Three-way data binding in AngularJS</h1><div class=pull-right><span class="meta label label-info">06 Apr 2014</span></div><small>Tags: <span class="label label-primary tag">angular</span> <span class="label label-primary tag">firebase</span> <span class="label label-primary tag">angularfire</span></small><div class=post><img src=/images/blog/20140406/angularfire.png class=post-banner alt=""><p>One of the cool features in <a href="http://angularjs.org/" target=_blank>AngularJS</a> is the two-way data binding. When you change a property of an object, the value is instantly changed in every view or service that is using this property. A while ago, I saw a video about the combination of AngularJS and <a href="https://www.firebase.com/" target=_blank>Firebase</a>. This combination makes it possible to create three-way data binding in AngularJS.</p><h2>What is Firebase?</h2><p>Firebase is an online service that provides an API to store and sync data in realtime. This means that when the data is saved, all connected clients will retrieve the latest data without reloading the page. You can see Firebase as a database service with some extra features like authentication. The cool thing about this service is that you don&#39;t need to create a database schema. You can create collections just by specifying a path to the database in the URL. An additional package &#39;<a href=https://www.firebase.com/quickstart/angularjs.html target=_blank>AngularFire</a>&#39; is available for integration with AngularJS.</p><h2>The world&#39;s easiest guestbook</h2><h3>Getting started</h3><p>A good way to start a test project is by using <a href="http://yeoman.io/" target=_blank>Yeoman</a>. Both AngularJs and AngularFire have a generator that will create your basic application in no time. Just run following commands and follow the wizard:</p><figure class=highlight><pre><code class=language-sh data-lang=sh><span></span>$ yo angular
$ yo angularfire
$ grunt serve</code></pre></figure><h3>The view</h3><figure class=highlight><pre><code class=language-html data-lang=html><span></span><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;jumbotron&quot;</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>&#39;Allo, &#39;Allo!<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;lead&quot;</span><span class=p>&gt;</span>
    Please leave a message if your like my page!
  <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>

  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;form-group&quot;</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>input</span> <span class=na>ng-model</span><span class=o>=</span><span class=s>&quot;input.name&quot;</span> <span class=na>placeholder</span><span class=o>=</span><span class=s>&quot;Name&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;form-control&quot;</span> <span class=p>/&gt;</span>
  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;form-group&quot;</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>textarea</span> <span class=na>ng-model</span><span class=o>=</span><span class=s>&quot;input.message&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;form-control&quot;</span> <span class=na>placeholder</span><span class=o>=</span><span class=s>&quot;Message&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>textarea</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;btn btn-lg btn-success&quot;</span> <span class=na>data-ng-click</span><span class=o>=</span><span class=s>&quot;addMessage()&quot;</span><span class=p>&gt;</span>Splendid!<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;messages&quot;</span> <span class=na>ng-cloack</span><span class=o>=</span><span class=s>&quot;&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;message&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;message-{{ message.$id }}&quot;</span> <span class=na>ng-repeat</span><span class=o>=</span><span class=s>&quot;message in messages | orderByPriority | reverse&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;name&quot;</span><span class=p>&gt;</span>{{ message.name }}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;content&quot;</span><span class=p>&gt;</span>
            {{ message.message }}
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span></code></pre></figure><h3>Initializing your firebase collection</h3><p>The AngularFire package provides some ways to interact with Firebase. The easiest way to connecto to a collection is by using the syncData service. We can create the connection with one line of code:</p><figure class=highlight><pre><code class=language-js data-lang=js><span></span><span class=nx>angular</span><span class=p>.</span><span class=nx>module</span><span class=p>(</span><span class=s1>&#39;app&#39;</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>controller</span><span class=p>(</span><span class=s1>&#39;MainCtrl&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>$scope</span><span class=p>,</span> <span class=nx>syncData</span><span class=p>)</span> <span class=p>{</span>

    <span class=nx>$scope</span><span class=p>.</span><span class=nx>messages</span> <span class=o>=</span> <span class=nx>syncData</span><span class=p>(</span><span class=s1>&#39;messages&#39;</span><span class=p>);</span>

  <span class=p>});</span></code></pre></figure><h3>Add a message</h3><p>Now that we set up the connection, we want to add messages to the collection. This part is very easy: you just pass a JSON object to the collection:</p><figure class=highlight><pre><code class=language-js data-lang=js><span></span><span class=nx>$scope</span><span class=p>.</span><span class=nx>input</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;&#39;</span>
<span class=p>};</span>

<span class=nx>$scope</span><span class=p>.</span><span class=nx>addMessage</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span>
<span class=p>{</span>
    <span class=nx>$scope</span><span class=p>.</span><span class=nx>messages</span><span class=p>.</span><span class=nx>$add</span><span class=p>({</span>
      <span class=nx>name</span><span class=o>:</span> <span class=nx>$scope</span><span class=p>.</span><span class=nx>input</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span>
      <span class=nx>message</span><span class=o>:</span> <span class=nx>$scope</span><span class=p>.</span><span class=nx>input</span><span class=p>.</span><span class=nx>message</span><span class=p>,</span>
      <span class=nx>timestamp</span><span class=o>:</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span>
    <span class=p>});</span>

    <span class=nx>$scope</span><span class=p>.</span><span class=nx>input</span><span class=p>.</span><span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
<span class=p>}</span></code></pre></figure><h3>Sort messages in reverse order</h3><p>When you want to display the messages in reverse order you should create one extra filer called <code>reverse</code>. This filter is allready written in one of the example AngularFire projects. <a href=https://github.com/firebase/angularFire-seed/blob/master/app/js/filters.js target=_blank>You can find the code over here.</a></p><p>A quick way to create a custom filter is by using the Yeoman angular:filter generator:</p><figure class=highlight><pre><code class=language-sh data-lang=sh><span></span>$ yo angular:filter reverse</code></pre></figure><h3>Hosting</h3><p>It is also possible to use Firebase hosting. A custom CLI tool is provided an can be installed through NPM:</p><figure class=highlight><pre><code class=language-sh data-lang=sh><span></span>$ npm install -g firebase-tools</code></pre></figure><p>The next step is to create a firebase configuration file. This can be done with the command:</p><figure class=highlight><pre><code class=language-sh data-lang=sh><span></span>$ firebase init</code></pre></figure><p><em>Note: The destination folder should be <code>dist</code></em></p><p>The next step is to deploy the application. This is also very easy:</p><figure class=highlight><pre><code class=language-sh data-lang=sh><span></span>$ grunt build
$ firebase deploy</code></pre></figure><p>The sample application is now available at: <a href="https://veewee.firebaseapp.com/" target=_blank>Firebase App</a>.</p></div><a name=comments></a><div id=disqus_thread></div><script type=text/javascript>var disqus_identifier = '/blog/three-way-data-binding/';
        var disqus_title = 'Three-way data binding in AngularJS';
        var disqus_url = 'http://veewee.github.io/blog/three-way-data-binding/';

        // trigger disqus-comments.js
        var embed_disqus_comments = true;</script></div></div><div class="col-xs-12 col-sm-4 col-md-3 right-pane"><h1>whois <small>VeeWee</small></h1><div><img src=/images/picture.png class="img-thumbnail img-responsive selfie" alt=Selfie></div><div><h2>Hi there!</h2><p>Glad you made it to my blog. Please feel free to take a look around. You will find some interesting stuff, mostly about web development and PHP.</p><p>Still can't get enough of me? Quick! Take a look at my <a href=https://speakerdeck.com/veewee>Speakerdeck</a>, <a href=https://twitter.com/toonverwerft>Twitter</a> or <a href="https://github.com/veewee/">Github</a> account.</p></div><div class=list-group><a class=list-group-item href=//github.com/veewee/veewee.github.io/issues/new><span class="glyphicon glyphicon-pencil"></span> Contact Me</a> <a class=list-group-item href=/atom.xml><span class="glyphicon glyphicon-pushpin"></span> Subscribe to RSS</a></div></div></div></div></div><script src=/js/b1a7.vendor.js></script><script src=/js/e51f.blog.js></script></body></html>